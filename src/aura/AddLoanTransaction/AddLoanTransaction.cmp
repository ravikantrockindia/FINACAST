<aura:component controller="GetTransction" implements="flexipage:availableForAllPageTypes,force:appHostable,flexipage:availableForRecordHome,force:hasRecordId,force:hasSObjectName,force:lightningQuickAction,forceCommunity:availableForAllPageTypes" access="global" >
    <aura:attribute name="loanTransaction" type="String"/> 
    <aura:attribute name="isActive" type="Boolean" default="true" required="true" />
    <aura:attribute name = "transId" type = "String"/>
    <aura:attribute name = "title" type = "String"/>
    <aura:attribute name="cid" type="String"/>
    <aura:attribute name = "trLoanId" type = "String"/>
    <aura:attribute name = "namespace" type = "String"/>
    <aura:attribute name = "client" type = "Account"/>
    <aura:attribute name="FinancialList" type="List" />
    <aura:attribute name="selectedValue1" type="String" />
     <aura:attribute name="DateValue" type="DateTime" default=""/>
      <aura:attribute name="maxDate" type="DateTime" default=""/>
    <aura:registerEvent name="saveIncomeEvent" type="c:SaveIncomeEvent"/> 
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    
    <div class="slds-m-around_xx-large">
        <div aura:id="exampleModal" role="dialog" tabindex="-1" aria-hidden="false" aria-labelledby="modal-heading-01"  aria-modal="true" aria-describedby="modal-content-id-1"  class="slds-modal slds-fade-in-open" >
            <div class="slds-modal__container">                        
                <header class="slds-modal__header">
                    <button class="slds-button slds-button--icon-inverse slds-modal__close" onclick="{!c.hideExampleModal}">
                        <lightning:icon iconName="utility:close" size="medium" variant="bare"/>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">{!v.title}</h2>                            
                </header>
                <lightning:recordEditForm 
                                          recordId = "{!v.trLoanId}"
                                          objectApiName="FinServ__FinancialAccountTransaction__c"  onsuccess="{!c.saveAndCloseBtn}"
                                          onsubmit = "{!c.handleSubmit}"
                                          >
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                        
                        <div class="slds-gutters" style="border: none;">
                            <div class="slds-box1">
                                
                                <div class="slds-col  slds-size_1-of-2" style="color:grey;">
                                    <span class = "highlight">* </span> Transaction Name <lightning:inputField  fieldName="{!v.namespace+'TransactionName__c'}" aura:id = "name" />
                                </div>
                                <div class="slds-col  slds-size_1-of-2" style="color:grey;">
                                    <span class = "highlight">* </span>   Transaction For <lightning:inputField fieldName ="FinServ__FinancialAccount__c" value="{!v.loanTransaction}"  disabled="true"/> 
                                </div>
                                <div class="slds-col  slds-size_1-of-2" style="color:grey;">
                                    Transaction Date <lightning:input type="DateTime" min="" max="{!v.maxDate}" value="{!v.DateValue}" variant="label-hidden" aura:id = "date" />
                                    <lightning:inputField  fieldName="FinServ__TransactionDate__c"  value="{!v.DateValue}"  variant="label-hidden" class="slds-hide"/>
                                </div>
                                <div class="slds-col  slds-size_1-of-2" style="color:grey;">
                                    <span class = "highlight">* </span>  Transaction Type<lightning:inputField  fieldName="FinServ__TransactionType__c" aura:id = "type" />
                                </div>
                                <div style="clear:both;"></div>
                                <div class="slds-col  slds-size_1-of-2" style="color:grey;">
                                    Description<lightning:inputField  fieldName="FinServ__Description__c" aura:id = "desc" />
                                </div>
                                
                                <div class="slds-col  slds-size_1-of-2" style="color:grey;">
                                    <span class = "highlight">* </span> Amount<lightning:inputField fieldName="FinServ__Amount__c" aura:id = "amt" />
                                </div>
                                
                            </div>
                        </div>
                    </div>
                    
                    <footer class="slds-modal__footer">
                        <div class="button" align ="right">
                            <lightning:button variant ="neutral" label ="Cancel" onclick = "{!c.hideExampleModal}" class="btn1 btn2"/>                                
                            <lightning:button variant="brand" label="Save" type="submit"  class="btn1" />
                            
                        </div>
                    </footer>
                </lightning:recordEditForm>
            </div></div><div class="{!'slds-backdrop ' + ((v.isActive) ? 'slds-backdrop_open' : 'slds-backdrop_close')}"></div>
        
    </div>
</aura:component>