<aura:component controller="AffordabilityController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" >
    <lightning:workspaceAPI aura:id="workspace"/>
    <aura:attribute name="tabName" type="String" default="Affordability"/>
    <aura:attribute type="String" name="Name" />
    <aura:attribute type="Double" name="totalAmount" />
    <aura:attribute name= "score" type="Double"/>
    <aura:attribute name="NameSpace" type="string" default="Finasol__"/>
    <aura:attribute type="Double" name="downPayment"  default="0"/>
    <aura:attribute name = "Tabledata" type="Object"/>   
    <aura:attribute name = "displayMonthList" type="list"/>   
    <aura:attribute name = "monthlySavingList" type="list"/>
    <aura:attribute name = "monthlyExpenseList" type="list"/>
    <aura:attribute name = "monthlyIncomeList" type="list"/>
    <aura:attribute name = "monthlyGoalTargetList" type="list"/>
    <aura:attribute name = "monthlyCreditCardList" type="list"/>  
    <aura:attribute name = "monthlyTermDebtList" type="list"/>
    <aura:attribute name = "displayAffordRainyDayFunds" type="list"/>
    <aura:attribute name = "cashAvailableForPurchaseList" type="list"/>
    <aura:attribute name = "downPayments" type="list"/>
    <aura:attribute name = "installment" type="list" default="0"/>
    <aura:attribute name = "yearlyList" type="list"/>
    <aura:attribute name = "networthAnalysisList" type="list"/>
    <aura:attribute name = "selectedYear" type="String"/>  
    <aura:attribute name = "FutureTableselectedYear" type="String"/>
    <aura:attribute name = "topmsg" type="String"/>
    <aura:attribute name = "topMessage" type="String"/>
    <aura:attribute name = "topMessage3" type="String"/>
    <aura:attribute name = "buynowMsg" type="String"/>
    <aura:attribute name = "notAbleToPayMsg" type="String"/>
    <aura:attribute name = "topmsg1" type="String"/>
    <aura:attribute name = "resultMessage" type="String"/>
    <aura:attribute name = "purchaseEffectMsg" type="String"/>
    <aura:attribute name = "yearlyListRec" type="list"/>
    <aura:attribute name = "displayMonthRecommendList" type="list"/>   
    <aura:attribute name = "monthlySavingRecommendList" type="list"/>
    <aura:attribute name = "monthlyExpenseRecommendList" type="list"/>
    <aura:attribute name = "monthlyIncomeRecommendList" type="list"/>
    <aura:attribute name = "monthlyGoalTargetRecommendList" type="list"/>
    <aura:attribute name = "monthlyCreditCardRecommendList" type="list"/>  
    <aura:attribute name = "monthlyTermDebtRecommendList" type="list"/>
    <aura:attribute name = "displayFutureAffordRainyDayFunds" type="list"/>    
    <aura:attribute name = "cashAvailableForPurchaseRecommendList" type="list"/>
    <aura:attribute name = "downPaymentRec" type="list"/>
    <aura:attribute name = "installmentRec" type="list"/>
    <aura:attribute name = "networthAnalysisRecommendList" type="list"/>
    <aura:attribute name = "cid" type = "String" default="0014600001ePIu5AAG"/>
    <aura:attribute name = "futureSim" type="Boolean"/>
    <aura:attribute type="Double" name="installments" default="0" />
    <aura:attribute type="Date" name="startDate" />
    <aura:attribute type="Date" name="endDate" />
    <aura:attribute name = "chartDataObject" type = "Object" />
    <aura:attribute name = "data" type="Object"/>
    <aura:attribute name = "financialHealthMessage" type="Object[]"/>
    <aura:attribute type="boolean" name="isTaxBenefit" default="false" />
    <aura:attribute type="boolean" name="isPaymentPlan" default="false" />
    <aura:attribute type="Integer" name="rainyDayMonths" default="6"/>
    <aura:attribute name="CurrentTable" type="boolean" default="false"/>
    <aura:attribute name="FutureTable" type="boolean" default="false"/>
    <aura:attribute name="istrue" type="boolean" default="false"/>
    <aura:attribute name="istrue1" type="boolean" default="false"/>
    <aura:attribute name="istrue2" type="boolean" default="true"/>
    <aura:attribute name="istrue3" type="boolean" default="false"/>
    <aura:attribute name="istrue4" type="boolean" default="false"/>
    <aura:attribute name="afford2" type="boolean" default="false"/>
    <aura:attribute name="afford1" type="boolean" default="false"/>
    <aura:attribute type="String" name="displaySection" default = "false" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <ltng:require scripts="{!$Resource.ChartJs}" />
    <lightning:card  title="">
        <div class="slds-page-header__name-title bud-months" >
            <h1 data-aura-rendered-by="722:0">
                <span class="slds-page-header__title slds-truncate" title="Income" data-aura-rendered-by="723:0">Purchase Advise</span>
            </h1>
            <p>
                The cornerstone of a strong financial strategy is making smart purchases at the right 
                time. Use Finacast before buying an item and learn if you can really afford it. This 
                powerful tool helps you review the impact of the desired purchase, before it's too late.
            </p>
        </div>
        <lightning:tabset>
            <lightning:tab label="Affordability Analysis" >
                <div class="slds-page-header__row">
                    <div class="show_more">
                        <a href="#" >Show more</a>
                    </div>
                    <div class="slds-col slds-size_7-of-12">
                        
                            <div class="aff-data-box">
                               <label>What do you want to purchase?</label> <lightning:input required="true" messageWhenValueMissing="Please enter a name" aura:id="fields" value="{!v.Name}"/>
                                <p>Name this Affordability Scenario</p>
                            </div>
                            <div class="aff-data-box">
                                <label> Cost</label><lightning:input  value="{!v.totalAmount}" required="true" messageWhenValueMissing="Please enter an amount" aura:id="fields" />
                                <p>What is the price of the item in the Affordability Scenario</p>
                            </div>
                            <div class="aff-data-box">
                                <label>Rainy Day Fund (in month)</label><lightning:input   value="{!v.rainyDayMonths}"/>
                                <p>This represents savings for an emergency</p>
                            </div>
                            <div class="aff-data-box">
                                <label style="float: left; display: block; width: 100%;">Is there a payment plan for this item</label>
                                <input type="radio" onclick = "{!c.handleRadio}" name="yesno" id="yesCheck" value="{!v.isPaymentPlan}"/> Yes <input type="radio" onclick = "{!c.handleRadio1}" value="{!v.getNo}" name="yesno" id="noCheck"/> No                        
                                <p style="clear:both;">Choose yes if taking a loan</p>
                                <aura:if isTrue="{!v.displaySection}">
                                    <div id="ifYes" >
                                        <div class="slds-form-element__row">
                                            <div class="slds-size_1-of-2"> 
                                                <label>Payment due this month</label> <lightning:input  value="{!v.downPayment}" />
                                            </div>
                                            <div class="slds-size_1-of-2"> 
                                                <label>Future monthly payment</label><lightning:input   value="{!v.installments}"/>
                                            </div>
                                            <div class="slds-size_1-of-2"> 
                                                <label>Start date</label> <lightning:input  value="{!v.startDate}" />
                                            </div>
                                            <div class="slds-size_1-of-2"> 
                                                <label>End date</label><lightning:input  value="{!v.endDate}" />
                                            </div>
                                        </div>
                                        
                                        <label style="float: left; display: block; width: 100%; margin-top: 5px;">Tax benefit with intrest</label>   <input type="radio" onclick = "{!c.handleRadio2}" name="yesno" id="yesCheck2" value="{!v.isTaxBenefit}"/> Yes <input type="radio" onclick = "{!c.handleRadio2}" name="yesno" id="noCheck"/> No
                                        <div id="ifYes1" style="visibility:hidden"> 
                                            
                                            <label>What %of contribution bring tax benefit?</label><lightning:input   />
                                        </div>  
                                        <label style="float: left; display: block; width: 100%; margin-top: 5px;">Are tax benefit realized monthly</label>   <input type="radio" onclick = "{!c.handleRadio3}" name="yesno" id="yesCheck6" /> Yes <input type="radio" onclick = "{!c.handleRadio3}"  name="yesno" id="noCheck"/> No
                                        <div id="ifYes5" style="visibility:hidden"> 
                                            
                                            <label>Maximum yearly tax deduction allowed</label><lightning:input   />
                                        </div>
                                    </div>
                                </aura:if>
                            </div>
                            <div class="check-affordability">
                                <lightning:button  label="Check Affordability" onclick="{!c.showResult}" />        
                            </div>
                        
                    </div>
                    <div class="slds-col slds-size_5-of-12">
                        <aura:if isTrue="{!v.istrue2}">
                            <div class="aff-data-box1">
                                <h2>Affordability Result</h2>
                                <p>After completing the form on the left and selecting the Check Affordability button, the affordability result will be displayed below.</p>
                            </div>
                            <div class="container">                               
                                <img src="{!$Resource.help}"/>
                                <div class="centered"><h1>UNKNOWN</h1></div>
                                <div class="bottom-left"><h4>There is currently not enough information to process this prospective purchase.</h4></div>                               
                            </div>
                        </aura:if>
                        <aura:if isTrue="{!v.istrue3}">
                            <div class="aff-data-box1">
                                <h2>Affordability Result</h2>
                                <p>We have analyzed your affordablity on based on the likelyhood of you meeting your expense, debts and goal commitments. </p>
                            </div>
                            <div class="container1">
                                 <img src="{!$Resource.yes}"/>
                                <div class="centered"><h2>YES</h2></div>
                                <div class="bottom-left"><h4>{!v.topmsg}</h4></div>
                            </div>
                        </aura:if>
                        <aura:if isTrue="{!v.istrue4}">
                            <div class="aff-data-box1">
                                <h2>Affordability Result</h2>
                                <p>We have analyzed your affordablity on based on the likelyhood of you meeting your expense, debts and goal commitments. </p>
                            </div>
                            <div class="container1">
                                <img src="{!$Resource.no}"/>
                                <div class="centered"><h2>NO</h2></div>
                                <div class="bottom-left"><h4>{!v.topMessage}</h4></div>
                            </div>
                        </aura:if>
                        <hr/>
                        <br/>
                        <aura:if isTrue="{!v.istrue1}">
                            <div>
                                <h1><b><label style="Color:red;font-size: 20px;">WHY CAN I NOT afford this now?</label></b></h1>
                                {!v.notAbleToPayMsg} <a href="javascript:void(0)" onclick="{!c.openModel }"> <u>Show Details</u></a>
                                <br/>
                                <br/>
                                <h1><b><label style="Color:red;font-size: 20px;">What happens if i buy NOW?</label></b></h1>
                                <p>{!v.buynowMsg} <a href="javascript:void(0)" onclick="{!c.ss}"><u>Show Details</u></a>
                                </p>
                                <br/>
                                <aura:if isTrue="{!v.afford1}">
                                    <h1><b><label style="Color:red;font-size: 20px;">When CAN i afford it?</label></b></h1>
                                    {!v.topMessage3} <a href="javascript:void(0)" onclick="{!c.openModel1}">  <u>Show Details</u></a>
                                </aura:if>
                                <aura:if isTrue="{!v.afford2}">
                                    <h1><b><label style="Color:red;font-size: 20px;">When CAN i afford it?</label></b></h1>
                                    You CAN NOT afford the item in next 10 years. <a href="javascript:void(0)" > <u>Show Details</u></a>
                                </aura:if>
                            </div>
                        </aura:if>
                         <aura:if isTrue="{!v.istrue}">
                            <div>                     
                                <h1><b><label style="Color:green;font-size: 20px;">When CAN i afford this now?</label></b></h1>
                                {!v.topmsg1}, {!v.resultMessage} <a href="javascript:void(0)" onclick="{!c.openModel}"> <u>Show Details</u></a>
                                <h1><b><label style="Color:green;font-size: 20px;">When happens if i buy NOW?</label></b></h1>
                                {!v.purchaseEffectMsg}<a href="javascript:void(0)" onclick="{!c.doSomething}"> <u>Show Details</u></a>                           
                            </div>
                        </aura:if>
                        <div>
                            <aura:if isTrue="{!v.CurrentTable}">
                                
                                <!--###### MODAL BOX Start######--> 
                                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                                    <div class="slds-modal__container Summary_cashflow">
                                        <!-- ###### MODAL BOX HEADER Start ######-->
                                        <div class="slds-modal__header">
                                            <lightning:buttonIcon iconName="utility:close"  onclick="{! c.closeModel }" alternativeText="close" variant="bare-inverse"
                                                                  class="slds-modal__close"/> 
                                            <div class="select_year">
                                                <lightning:select name="select1" aura:id="selectYear" value="{!v.selectedYear}" onchange="{!c.YearlyData}">
                                                    <aura:iteration items="{!v.yearlyList}" var="element" >
                                                       <option label="{!element}" value="{!element}" selected="{!element==v.selectedYear}"/> 
                                                    </aura:iteration>
                                                </lightning:select>
                                            </div>
                                            
                                            <table class="slds-table  slds-table--cell-buffer" >
                                                <thead>
                                                    <th>Accounts and budget item</th>
                                                    <aura:iteration items="{!v.displayMonthList}" var="element">
                                                        <th>{!element}</th>
                                                    </aura:iteration>
                                                </thead>
                                            </table>
                                            
                                        </div>
                                        <!--###### MODAL BOX BODY Part Start######-->
                                        <div class="slds-modal__content slds-p-around_large" id="modal-content-id-1">
                                            <table class="slds-table slds-table--cell-buffer" >
                                                
                                                <thead>
                                                    <th>Accounts and budget item</th>
                                                    <aura:iteration items="{!v.displayMonthList}" var="element">
                                                        <th>{!element}</th>
                                                    </aura:iteration>
                                                </thead>
                                                
                                                <tbody>
                                                    <tr>
                                                        <th>Savings at hand</th>
                                                        <aura:iteration items="{!v.monthlySavingList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Expenses</th>
                                                        <aura:iteration items="{!v.monthlyExpenseList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Planned Income</th>
                                                        <aura:iteration items="{!v.monthlyExpenseList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Savings allocated to goals</th>
                                                        <aura:iteration items="{!v.monthlyGoalTargetList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Credit Card Debts</th>
                                                        <aura:iteration items="{!v.monthlyCreditCardList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Monthly Loan Payments</th>
                                                        <aura:iteration items="{!v.monthlyTermDebtList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Rainy Day Fund Requirement</th>
                                                        <aura:iteration items="{!v.displayAffordRainyDayFunds}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Net savings available for the purchase</th>
                                                        <aura:iteration items="{!v.cashAvailableForPurchaseList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>One time payment for the purchase</th>
                                                        <aura:iteration items="{!v.downPayments}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Monthly Installment</th>
                                                        <aura:iteration items="{!v.installment}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Net Total</th>
                                                        <aura:iteration items="{!v.networthAnalysisList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                </tbody>
                                            </table>                                            
                                        </div>   
                                    </div>
                                </section>
                                <div class="slds-backdrop slds-backdrop_open"></div>
                                <!--###### MODAL BOX Part END Here ######-->                                
                            </aura:if>    
                        </div>                       
                        <div>
                            <aura:if isTrue="{!v.FutureTable}">
                                
                                <!--###### MODAL BOX Start######--> 
                                <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                                    <div class="slds-modal__container Summary_cashflow">
                                        <!-- ###### MODAL BOX HEADER Start ######-->
                                        <div class="slds-modal__header">
                                            <lightning:buttonIcon iconName="utility:close"  onclick="{! c.closeModel }" alternativeText="close" variant="bare-inverse"
                                                                  class="slds-modal__close"/> 
                                            <div class="select_year">
                                                <lightning:select name="select1" aura:id="selectYear" value="{!v.FutureTableselectedYear}" onchange="{!c.YearlyData}">
                                                    <aura:iteration items="{!v.yearlyListRec}" var="element">
                                                        <option label="{!element}" value="{!element}" selected="{!element==v.FutureTableselectedYear}"/> 
                                                    </aura:iteration>
                                                </lightning:select>
                                            </div>                                          
                                            <table class="slds-table  slds-table--cell-buffer" >
                                                <thead>
                                                    <th>Accounts and budget item</th>
                                                    <aura:iteration items="{!v.displayMonthRecommendList}" var="element">
                                                        <th>{!element}</th>
                                                    </aura:iteration>
                                                </thead>
                                            </table>
                                            
                                        </div>
                                        <!--###### MODAL BOX BODY Part Start######-->
                                        <div class="slds-modal__content slds-p-around_large" id="modal-content-id-1">
                                            <table class="slds-table slds-table--cell-buffer" >                                                
                                                <thead>
                                                    <th>Accounts and budget item</th>
                                                    <aura:iteration items="{!v.displayMonthRecommendList}" var="element">
                                                        <th>{!element}</th>
                                                    </aura:iteration>
                                                </thead> 
                                                <tbody>
                                                    <tr>
                                                        <th>Savings at hand</th>
                                                        <aura:iteration items="{!v.monthlySavingRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Expenses</th>
                                                        <aura:iteration items="{!v.monthlyExpenseRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Planned Income</th>
                                                        <aura:iteration items="{!v.monthlyIncomeRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Savings allocated to goals</th>
                                                        <aura:iteration items="{!v.monthlyGoalTargetRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Credit Card Debts</th>
                                                        <aura:iteration items="{!v.monthlyCreditCardRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Monthly Loan Payments</th>
                                                        <aura:iteration items="{!v.monthlyTermDebtRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Rainy Day Fund Requirement</th>
                                                        <aura:iteration items="{!v.displayFutureAffordRainyDayFunds}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Net savings available for the purchase</th>
                                                        <aura:iteration items="{!v.cashAvailableForPurchaseRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>One time payment for the purchase</th>
                                                        <aura:iteration items="{!v.downPaymentRec}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Monthly Installment</th>
                                                        <aura:iteration items="{!v.installmentRec}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                    <tr>
                                                        <th>Net Total</th>
                                                        <aura:iteration items="{!v.networthAnalysisRecommendList}" var="element">
                                                            <td>{!element}</td>
                                                        </aura:iteration>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            
                                        </div>
                                        
                                    </div>
                                </section>
                                <div class="slds-backdrop slds-backdrop_open"></div>
                                <!--###### MODAL BOX Part END Here ######-->                                
                            </aura:if>
                        </div>
                    </div>
                </div>
            </lightning:tab>
            <lightning:tab label="Compare Options" onactive="{!c.showFinHealth}">
                
                <div class="f-health-help slds-text-link slds-text-align_right slds-text-heading_small" style="">
                    <a href="javascript:void(0)" aria-describedby="help" onclick="{!c.openHelpBox}">Help</a>
                    <!--<span>Help</span>-->
                    <aura:if isTrue="{!v.helpBox}">
                        <div class="help-box-financialhealth" >
                            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open slds-modal_medium">
                                <div class="slds-modal__container">
                                    <header class="slds-modal__header slds-modal__header_empty">
                                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick="{!c.closeHelpBox}">
                                            <lightning:icon iconName="utility:close" size="medium" variant="bare"/>
                                            <span class="slds-assistive-text">Close</span>
                                        </button>
                                        
                                    </header>
                                    <div class="slds-modal__content" id="modal-content-id-1">
                                        <div class="slds-grid slds-gutters">
                                            <div class="slds-col slds-size_1-of-4" style="background-color:#25368B">
                                                <div class="slds-text-heading_large" style = "color:white; font-weight: 700; padding:10px; margin: 45% 0 0; text-align: center;">                                                    
                                                    <span >Your Financial Health</span>    
                                                </div>
                                            </div>
                                            <div class="slds-col slds-size_3-of-4" style="padding: 20px">
                                                <div class="simulation-pop-up slds-text-body_regular slds-text-align_left slds-text-color_default" style = "font-weight:400">
                                                    <div style="padding: 0 5px;">
                                                        <span style="font-weight: 600; margin-bottom: 10px; display: block;">Your financial score is an indicator of how likely you are to meet your current financial commitments like:
                                                        </span>
                                                        <ol class="slds-list--dotted">
                                                            <li>Your expenses for the next month</li> 
                                                            <li>Your immediate credit card dues</li> 
                                                            <li>Your immediate loan payments</li> 
                                                            <li>Immediate savings needed for your financial goals</li>
                                                        </ol> 
                                                        
                                                        <div style="padding-top: 10px">
                                                            The score is graded between 0 and 10, depending on your likelihood of meeting the above financial commitments. In addition, this score also takes into account the number of months that you can survive without an income.
                                                            
                                                            <br/>The green, orange and red color indicators for each of the sections tells you if your expenses, loans and credit card payments are likely to be met fully or partially in the next month.
                                                        </div>
                                                        <span style = "font-weight:900;"> 
                                                            <br/>Score Key 
                                                        </span>
                                                    </div>
                                                    <table class="slds-table slds-table--bordered slds-table--cell-buffer financial_table">
                                                        <tr>
                                                            <th>Below 1</th>
                                                            <td>You are unlikely to meet your everyday expenses in the next month</td>
                                                        </tr>
                                                        <tr>
                                                            <th>Between 1 and 4</th>
                                                            <td>You are likely to meet your everyday expenses but not meet your debt commitments</td>
                                                        </tr>
                                                        <tr>
                                                            <th>Between 4 and 5</th>
                                                            <td>Between 4 and 5	You will meet your expenses, and debt commitments but may not have enough to save for other financial goals</td>
                                                        </tr>
                                                        <tr>
                                                            <th>Above 5</th>
                                                            <td>You will meet your immediate expenses, debt commitments and save for other goals. You are also likely to have enough to live for a few days without an income</td>
                                                        </tr>
                                                    </table>   
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <div class="slds-backdrop slds-backdrop_open"></div>
                        </div>
                        
                    </aura:if>
                </div>
                <lightning:card class="chart">                   
                    <div class="slds-page-header__row">
                        <div class="slds-size_2-of-12"></div>
                        <div class="slds-size_8-of-12">
                            <span> 
                                <div class="chart1" style="">
                                    <div class="chart1-child">
                                        <canvas aura:id="financialHealthGraph"></canvas>
                                    </div>
                                </div> 
                            </span>                            
                        </div>                        
                        <div class="slds-size_2-of-12">
                            <span>
                                <div class="bar">
                                    <lightning:slider label="Score" type="vertical" min="0" max = "10" 
                                                      value="{!v.score}" disabled="true" size="small"/>
                                </div>
                            </span>
                        </div>                        
                    </div>
                    <div class="slds-text-align_center label-font" style="margin: 0px 0;">
                        <span>Select a year to view that years forecast</span>
                    </div>
                    <div class="slds-text-align_center"  style="margin-bottom: 15px;">
                        <span>
                            <button class="slds-button" onclick = "{!c.showYearlyScorePrev}">
                                <lightning:icon iconName="utility:chevronleft"
                                                alternativeText="prev" size="small"/>
                            </button>
                            
                            <lightning:button class="yearButton"
                                              label="{!v.year}" variant="brand"/>
                            
                            <button class="slds-button" onclick = "{!c.showYearlyScoreNext}">
                                <lightning:icon iconName="utility:chevronright" 
                                                alternativeText="next" size="small"/>    
                            </button>
                        </span>
                    </div>
                    <div class="slds-text-align_center" style="margin: 5px 0 0;">
                        <ui:message title="Messages" severity="confirm" closable="true">
                            <aura:iteration items="{! v.financialHealthMessage}" var="m">   
                                {!m.message}<br/>
                            </aura:iteration> 
                        </ui:message>
                    </div>                  
                </lightning:card>
            </lightning:tab >
        </lightning:tabset>
    </lightning:card>
    
</aura:component>